{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/hongloc/Documents/GitHub/Covid_pass/screens/Login/LoginUser.js\";\nimport React, { Component, useState, createRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport AsyncStorage from '@react-native-community/async-storage';\nimport Loader from \"../../CovidPass/Components/Loader\";\n\nfunction LoginUser(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      userEmail = _useState2[0],\n      setUserEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userPassword = _useState4[0],\n      setUserPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errortext = _useState8[0],\n      setErrortext = _useState8[1];\n\n  var passwordInputRef = createRef();\n\n  var handleSubmitPress = function handleSubmitPress() {\n    setErrortext('');\n\n    if (!userEmail) {\n      alert('Please fill Email');\n      return;\n    }\n\n    if (!userPassword) {\n      alert('Please fill Password');\n      return;\n    }\n\n    setLoading(true);\n    var dataToSend = {\n      email: userEmail,\n      password: userPassword\n    };\n    var formBody = [];\n\n    for (var key in dataToSend) {\n      var encodedKey = encodeURIComponent(key);\n      var encodedValue = encodeURIComponent(dataToSend[key]);\n      formBody.push(encodedKey + '=' + encodedValue);\n    }\n\n    formBody = formBody.join('&');\n    fetch('http://localhost:3000/api/user/login', {\n      method: 'POST',\n      body: formBody,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      setLoading(false);\n      console.log(responseJson);\n\n      if (responseJson.status === 'success') {\n        AsyncStorage.setItem('user_id', responseJson.data.email);\n        console.log(responseJson.data.email);\n        navigation.replace('DrawerNavigationRoutes');\n      } else {\n        setErrortext(responseJson.msg);\n        console.log('Please check your email id or password');\n      }\n    }).catch(function (error) {\n      setLoading(false);\n      console.error(error);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.mainBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, React.createElement(Loader, {\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), React.createElement(ScrollView, {\n    keyboardShouldPersistTaps: \"handled\",\n    contentContainerStyle: {\n      flex: 1,\n      justifyContent: 'center',\n      alignContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    enabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/Logo/logo-social.png\"),\n    style: {\n      width: '50%',\n      height: 100,\n      resizeMode: 'contain',\n      margin: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.SectionStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputStyle,\n    onChangeText: function onChangeText(UserEmail) {\n      return setUserEmail(UserEmail);\n    },\n    placeholder: \"Enter Email\",\n    placeholderTextColor: \"#8b9cb5\",\n    autoCapitalize: \"none\",\n    keyboardType: \"email-address\",\n    returnKeyType: \"next\",\n    onSubmitEditing: function onSubmitEditing() {\n      return passwordInputRef.current && passwordInputRef.current.focus();\n    },\n    underlineColorAndroid: \"#f000\",\n    blurOnSubmit: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.SectionStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.inputStyle,\n    onChangeText: function onChangeText(UserPassword) {\n      return setUserPassword(UserPassword);\n    },\n    placeholder: \"Enter Password\",\n    placeholderTextColor: \"#8b9cb5\",\n    keyboardType: \"default\",\n    ref: passwordInputRef,\n    onSubmitEditing: Keyboard.dismiss,\n    blurOnSubmit: false,\n    secureTextEntry: true,\n    underlineColorAndroid: \"#f000\",\n    returnKeyType: \"next\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  })), errortext != '' ? React.createElement(Text, {\n    style: styles.errorTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, errortext) : null, React.createElement(TouchableOpacity, {\n    style: styles.buttonStyle,\n    activeOpacity: 0.5,\n    onPress: handleSubmitPress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonTextStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 15\n    }\n  }, \"LOGIN\")), React.createElement(Text, {\n    style: styles.registerTextStyle,\n    onPress: function onPress() {\n      return navigation.navigate('SignUpUser');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"New Here ? Register\")))));\n}\n\n;\nexport default LoginUser;\nvar styles = StyleSheet.create({\n  mainBody: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#307ecc',\n    alignContent: 'center'\n  },\n  SectionStyle: {\n    flexDirection: 'row',\n    height: 40,\n    marginTop: 20,\n    marginLeft: 35,\n    marginRight: 35,\n    margin: 10\n  },\n  buttonStyle: {\n    backgroundColor: '#7DE24E',\n    borderWidth: 0,\n    color: '#FFFFFF',\n    borderColor: '#7DE24E',\n    height: 40,\n    alignItems: 'center',\n    borderRadius: 30,\n    marginLeft: 35,\n    marginRight: 35,\n    marginTop: 20,\n    marginBottom: 25\n  },\n  buttonTextStyle: {\n    color: '#FFFFFF',\n    paddingVertical: 10,\n    fontSize: 16\n  },\n  inputStyle: {\n    flex: 1,\n    color: 'white',\n    paddingLeft: 15,\n    paddingRight: 15,\n    borderWidth: 1,\n    borderRadius: 30,\n    borderColor: '#dadae8'\n  },\n  registerTextStyle: {\n    color: '#FFFFFF',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 14,\n    alignSelf: 'center',\n    padding: 10\n  },\n  errorTextStyle: {\n    color: 'red',\n    textAlign: 'center',\n    fontSize: 14\n  }\n});","map":{"version":3,"sources":["/Users/hongloc/Documents/GitHub/Covid_pass/screens/Login/LoginUser.js"],"names":["React","Component","useState","createRef","NavigationContainer","createStackNavigator","AsyncStorage","Loader","LoginUser","navigation","userEmail","setUserEmail","userPassword","setUserPassword","loading","setLoading","errortext","setErrortext","passwordInputRef","handleSubmitPress","alert","dataToSend","email","password","formBody","key","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","body","headers","then","response","json","responseJson","console","log","status","setItem","data","replace","msg","catch","error","styles","mainBody","flex","justifyContent","alignContent","alignItems","require","width","height","resizeMode","margin","SectionStyle","inputStyle","UserEmail","current","focus","UserPassword","Keyboard","dismiss","errorTextStyle","buttonStyle","buttonTextStyle","registerTextStyle","navigate","StyleSheet","create","backgroundColor","flexDirection","marginTop","marginLeft","marginRight","borderWidth","color","borderColor","borderRadius","marginBottom","paddingVertical","fontSize","paddingLeft","paddingRight","textAlign","fontWeight","alignSelf","padding"],"mappings":"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","sourcesContent":["import React, { Component, useState, createRef } from 'react';\nimport { StyleSheet, Text, TextInput, View, Button, ScrollView, Image, Keyboard, TouchableOpacity, KeyboardAvoidingView, } from 'react-native';\n\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\n\nimport AsyncStorage from '@react-native-community/async-storage';\n\nimport Loader from '../../CovidPass/Components/Loader';\n\nfunction LoginUser({ navigation }) {\n    const [userEmail, setUserEmail] = useState('');\n    const [userPassword, setUserPassword] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [errortext, setErrortext] = useState('');\n\n    const passwordInputRef = createRef();\n\n    const handleSubmitPress = () => {\n        setErrortext('');\n        if (!userEmail) {\n          alert('Please fill Email');\n          return;\n        }\n        if (!userPassword) {\n          alert('Please fill Password');\n          return;\n        }\n        setLoading(true);\n        let dataToSend = {email: userEmail, password: userPassword};\n        let formBody = [];\n        for (let key in dataToSend) {\n          let encodedKey = encodeURIComponent(key);\n          let encodedValue = encodeURIComponent(dataToSend[key]);\n          formBody.push(encodedKey + '=' + encodedValue);\n        }\n        formBody = formBody.join('&');\n    \n        fetch('http://localhost:3000/api/user/login', {\n          method: 'POST',\n          body: formBody,\n          headers: {\n            //Header Defination\n            'Content-Type':\n            'application/x-www-form-urlencoded;charset=UTF-8',\n          },\n        })\n          .then((response) => response.json())\n          .then((responseJson) => {\n            //Hide Loader\n            setLoading(false);\n            console.log(responseJson);\n            // If server response message same as Data Matched\n            if (responseJson.status === 'success') {\n              AsyncStorage.setItem('user_id', responseJson.data.email);\n              console.log(responseJson.data.email);\n              navigation.replace('DrawerNavigationRoutes');\n            } else {\n              setErrortext(responseJson.msg);\n              console.log('Please check your email id or password');\n            }\n          })\n          .catch((error) => {\n            //Hide Loader\n            setLoading(false);\n            console.error(error);\n          });\n      };\n    \n    return (\n        <View style={styles.mainBody}>\n            <Loader loading={loading} />\n            <ScrollView\n                keyboardShouldPersistTaps=\"handled\"\n                contentContainerStyle={{\n                flex: 1,\n                justifyContent: 'center',\n                alignContent: 'center',\n                }}>\n            <View>\n          <KeyboardAvoidingView enabled>\n            <View style={{alignItems: 'center'}}>\n              <Image\n                source={require('../../assets/Logo/logo-social.png')}\n                style={{\n                  width: '50%',\n                  height: 100,\n                  resizeMode: 'contain',\n                  margin: 30,\n                }}\n              />\n            </View>\n            <View style={styles.SectionStyle}>\n              <TextInput\n                style={styles.inputStyle}\n                onChangeText={(UserEmail) =>\n                  setUserEmail(UserEmail)\n                }\n                placeholder=\"Enter Email\" //dummy@abc.com\n                placeholderTextColor=\"#8b9cb5\"\n                autoCapitalize=\"none\"\n                keyboardType=\"email-address\"\n                returnKeyType=\"next\"\n                onSubmitEditing={() =>\n                  passwordInputRef.current &&\n                  passwordInputRef.current.focus()\n                }\n                underlineColorAndroid=\"#f000\"\n                blurOnSubmit={false}\n              />\n            </View>\n            <View style={styles.SectionStyle}>\n              <TextInput\n                style={styles.inputStyle}\n                onChangeText={(UserPassword) =>\n                  setUserPassword(UserPassword)\n                }\n                placeholder=\"Enter Password\" //12345\n                placeholderTextColor=\"#8b9cb5\"\n                keyboardType=\"default\"\n                ref={passwordInputRef}\n                onSubmitEditing={Keyboard.dismiss}\n                blurOnSubmit={false}\n                secureTextEntry={true}\n                underlineColorAndroid=\"#f000\"\n                returnKeyType=\"next\"\n              />\n            </View>\n            {errortext != '' ? (\n              <Text style={styles.errorTextStyle}>\n                {errortext}\n              </Text>\n            ) : null}\n            <TouchableOpacity\n              style={styles.buttonStyle}\n              activeOpacity={0.5}\n              onPress={handleSubmitPress}>\n              <Text style={styles.buttonTextStyle}>LOGIN</Text>\n            </TouchableOpacity>\n            <Text\n              style={styles.registerTextStyle}\n              onPress={() => navigation.navigate('SignUpUser')}>\n              New Here ? Register\n            </Text>\n          </KeyboardAvoidingView>\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default LoginUser;\n\nconst styles = StyleSheet.create({\n    mainBody: {\n      flex: 1,\n      justifyContent: 'center',\n      backgroundColor: '#307ecc',\n      alignContent: 'center',\n    },\n    SectionStyle: {\n      flexDirection: 'row',\n      height: 40,\n      marginTop: 20,\n      marginLeft: 35,\n      marginRight: 35,\n      margin: 10,\n    },\n    buttonStyle: {\n      backgroundColor: '#7DE24E',\n      borderWidth: 0,\n      color: '#FFFFFF',\n      borderColor: '#7DE24E',\n      height: 40,\n      alignItems: 'center',\n      borderRadius: 30,\n      marginLeft: 35,\n      marginRight: 35,\n      marginTop: 20,\n      marginBottom: 25,\n    },\n    buttonTextStyle: {\n      color: '#FFFFFF',\n      paddingVertical: 10,\n      fontSize: 16,\n    },\n    inputStyle: {\n      flex: 1,\n      color: 'white',\n      paddingLeft: 15,\n      paddingRight: 15,\n      borderWidth: 1,\n      borderRadius: 30,\n      borderColor: '#dadae8',\n    },\n    registerTextStyle: {\n      color: '#FFFFFF',\n      textAlign: 'center',\n      fontWeight: 'bold',\n      fontSize: 14,\n      alignSelf: 'center',\n      padding: 10,\n    },\n    errorTextStyle: {\n      color: 'red',\n      textAlign: 'center',\n      fontSize: 14,\n    },\n  });"]},"metadata":{},"sourceType":"module"}